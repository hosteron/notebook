http://blog.csdn.net/hzhsan/article/details/43453251 -- wireshark使用说明
OSI(open system interconnection)模型
物理层，数据链路层，网络层，传输层，会话层，表示层，应用层
网络层的IP数据包是如何传输,IP数据报中有:源IP地址，目的IP地址。ＩＰ数据报需要从主机Ａ传送到主机Ｂ上，主机Ａ首先查找路由表，判断目的主机是否与自己在同一个网段
if在同一个网段内，则主机Ａ查询自己的ＡＲＰ表，看是否有该目的ＩＰ地址对应的ＭＡＣ地址记录
{
	if有，则将该ＭＡＣ地址作为目的ＭＡＣ地址，封装数据帧，传送给主机Ｂ
	else没有，则发送一个ＡＲＰ请求广播给网段内的所有主机，来查询该目的ｉｐ地址的ｍａｃ地址，收到ＡＲＰ请求报文的主机如果发现该ｉｐ地址是自己的ｉｐ地址，则返回一个ＡＲＰ应答报文告诉主机Ａ自己的ＭＡＣ地址，如果发现不是自己的ＩＰ地址，则丢弃该报文。主机Ａ收到这个应答报文后，就按照返回的ＭＡＣ地址，将ＩＰ数据报封装成帧，然后发送到主机Ｂ上(一般为了减少网络中的报文量，通信双发会维护一个各自的ＡＲＰ表，把一次通信中获取ＩＰ　ＭＡＣ地址对保存在缓冲的ＡＲＰ表中孤单时ＡＲＰ表有一个老化机制，删除一段时间内ＩＰ　ＭＡＣ地址对)
}
else if 搜索路由表，发现了能与目的网络号相匹配的表目，则把报文发给该表目指定的下一站的路由器或者直接链接的网络接口
{
	报文发送到下一站时，数据帧的目的ｍａｃ地址是下一个站路由器或者网络接口的ｍａｃ地址，而ｉｐ头部的目的ｉｐ地址是主机Ｂ的ＩＰ地址。这里要支出的是：ＡＲＰ请求报文以下一站路由器或者网络接口的ＩＰ地址为目的ＩＰ地址，寻找真的目的ＭＡＣ地址。换句话，ＡＲＰ请求报文只负责ＩＰ数据报传输过程中每一跳中的目的ｍａｃ地址查询
}
else 搜索路由表，寻找标为“默认”的表目，把报文发送给该表目指定的下一站路由器
{
	报文发送到下一站时，数据帧的目的MAC地址是下一站路由器的ＭＡＣ地址，而
ＩＰ头部的目的ＩＰ地址是主机Ｂ的ＩＰ地址
}
关键字:
ＡＲＰ表，广播，路由，路由表，网段，目的网络号相匹配的表目，确定了ｉｐ地址和ｍａｃ地址为什么可以直接发送给目的地址，三层交换机，二层交换机，交换机转换表，信道

ARP表是一个动态表，存储在计算机中，目的是做一个ｉｐ地址和ＭＡＣ地址的对应

网段:
通常使用同一物理层的设备之间必然通过相同的传输介质直接相互链接，（如交叉双绞线直接链接的两台主机），但是两组其传输介质北非直接相连的网络设备，如果他们的传输介质通过工作在物理层的扩展设备如中继器和集线器等转接链接，则仍然被视为同一物理层中的设备，是一个而非两个网段。另外，工作在数据链路层或更高层的设备如网桥，交换机，路由器等等，由他们链接起来的两组设备仍然分别处于各自独立的物理层，因此是两个网段
网桥实现两个网段的桥接功能，同事也起到重发器
